"use strict";function Player(e){this.name=e,this.credits=10}function newGame(e){var t=document.querySelector(".new-player-input").value||"Player";setLocalStorage(gamer=new Player(t)),e.preventDefault(),document.body.classList.add("showGame-start"),setTimeout(function(){document.body.classList.add("showGame")},10),playerNameHTML.innerHTML="Player name: "+gamer.name,playerCreditsHTML.innerHTML="Credits: "+gamer.credits+" $"}function setLocalStorage(e){var t=JSON.stringify(e);localStorage.setItem("player",t)}function continueGame(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("player"));(gamer=new Player(t.name)).credits=t.credits,document.body.classList.add("showGame-start"),setTimeout(function(){document.body.classList.add("showGame")},10),playerNameHTML.innerHTML="Player name: "+gamer.name,playerCreditsHTML.innerHTML="Credits: "+gamer.credits+" $"}function getRandomNumber(e,t){return Math.floor(Math.random()*(t-e)+e)}function draw(){var e=document.querySelector(".game-results"),t=[],r=0;if(numbersContainer.querySelectorAll(".active").forEach(function(e){return t.push(+e.dataset.num)}),t.length<6)gameAlert("You have to select 6 numbers!");else{gameAlert(),gamer.credits-=1;for(var n=[],a=0;a<6;a++){var o=getRandomNumber(1,35);0===n.length?n.push(o):n.includes(o)?a--:n.push(o)}lotterNumbersContainer.innerHTML=n.map(function(e){return"<span class='number'>"+e+"</span>"}).join("");for(var s=[],i=0;i<n.length;i++)t.includes(n[i])&&s.push(n[i]);1===s.length?r=1:2===s.length?r=4:3===s.length?r=8:4===s.length?r=20:5===s.length?r=100:6===s.length&&(r=1e6),0===s.length?e.innerHTML="You lost. Play again.":1===s.length?e.innerHTML="You got "+s.length+" number "+s.join(", ")+".<br> You won "+r+" $.":e.innerHTML="You got "+s.length+" numbers "+s.join(", ")+".<br> You won "+r+" $.",gamer.credits+=r,setLocalStorage(gamer),playerCreditsHTML.innerHTML="Credits: "+gamer.credits+" $"}}function choseNum(){var e=this,t=numbersContainer.querySelectorAll(".active");if(event.target.classList.contains("active"))event.target.classList.remove("active"),event.target.classList.remove("active-start"),gameAlert();else{if(t.length>=6)return void gameAlert("You have already selected 6 numbers!");5==t.length&&gameAlert(),this.classList.add("active"),setTimeout(function(){e.classList.add("active-start")},10)}}function gameAlert(e){var t=document.querySelector(".game-alert");e?(t.style.display="block",t.innerHTML=e):t.style.display="none"}var newPlayerForm=document.querySelector(".new-player-form"),playerWindow=document.querySelector(".player-window"),playerNameHTML=document.querySelector(".player-name-text"),playerCreditsHTML=document.querySelector(".player-credits"),continueGameBtn=document.querySelector(".close-welcome"),gamer=void 0;window.onload=function(){var e=document.querySelector(".welcome-name"),t=JSON.parse(localStorage.getItem("player"));t?(playerWindow.classList.add("back-start"),setTimeout(function(){playerWindow.classList.add("back")},10),e.innerHTML=t.name):(playerWindow.classList.add("new-start"),setTimeout(function(){playerWindow.classList.add("new")},10))},newPlayerForm.addEventListener("submit",newGame),continueGameBtn.addEventListener("click",continueGame);for(var numbersContainer=document.querySelector(".numbersContainer"),drawBtn=document.querySelector(".play-btn"),lotterNumbersContainer=document.querySelector(".lottery-numbers"),numbers="",numbersPool=[],i=1;i<=35;i++){var number='<span class="number" data-num="'+i+'">'+i+"</span>";numbers+=number,numbersPool.push(i)}numbersContainer.innerHTML=numbers;var printedNumbers=numbersContainer.querySelectorAll("*");printedNumbers.forEach(function(e){return e.addEventListener("click",choseNum)}),drawBtn.addEventListener("click",draw);